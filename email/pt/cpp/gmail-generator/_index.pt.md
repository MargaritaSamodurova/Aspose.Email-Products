---
title: Gerador do Gmail para C++
url: /pt/cpp/gmail-generator/
description: Como gerar endereços falsos do Gmail usando C++
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/i18n/upper-banner h1="Gerar endereço do Gmail usando C++" h2="Crie seu próprio gerador temporário do Gmail com senha usando C++" logoImageSrc="https://www.aspose.cloud/templates/aspose/img/products/email/headers/aspose_email-for-cpp.svg" pfName="Aspose.Email" subTitlepfName="for C++" downloadUrl="https://downloads.aspose.com/email/cpp" >}}

{{< blocks/products/pf/main-container pfName="Aspose.Email" subTitlepfName="for C++" >}}

{{< blocks/products/pf/i18n/sub-menu autoGeneratedVersion="true" logoImageSrc="https://www.aspose.cloud/templates/aspose/img/products/email/aspose_email-for-cpp.svg" liveDemosLink="https://products.aspose.app/email/gmail-generator" codeSamplesLink="https://github.com/aspose-email/Aspose.Email-for-C" buyLink="https://purchase.aspose.com/buy" docsLink="https://docs.aspose.com/email/cpp/" nugetLink="https://www.nuget.org/packages/aspose.email.cpp.vc140/" nugetPackageName="Aspose.Email.Cpp.VC140" mavenRepoLink="" directDownloadLink="https://releases.aspose.com/email/cpp" >}}

{{% blocks/products/pf/feature-page-summary %}}

gerador do Gmail é uma maneira bastante comum de gerenciar assinaturas de e-mail. Em essência, este é um análogo de um provedor de endereços de e-mail temporários, mas muito mais flexível, confiável e seguro. A essência do gerador é criar endereços adicionais do Gmail. Você pode usar esses endereços adicionais ao se registrar em vários sites. Esses sites provavelmente enviarão e-mails para os endereços que você fornecer. Como os endereços são adicionais, todas as cartas irão para o seu endereço principal. Mas, ao mesmo tempo, um endereço adicional gerado pelo aplicativo ou preparado manualmente será indicado como destinatário da carta. A pesquisa de e-mails pelo endereço do destinatário permitirá que você filtre os e-mails e execute ações automáticas neles. Uma vez ou permanente. Você também pode pegar sites compartilhando seu endereço com terceiros sem o seu consentimento. Por exemplo, digamos que você gerou um endereço adicional username+for.spam.sender@gmail.com. Você então o passou para o site spam-sender.com. Depois de algum tempo, você pode receber um e-mail de algum outro site, como other-sender.com, mas o destinatário será username+for.spam.sender@gmail.com. Em qualquer outra situação, você não seria capaz de descobrir por que outro-remetente.com está enviando e-mails promocionais, mas como você usou um endereço alternativo, é fácil ver que o spam-sender.com compartilhou seu endereço com terceiros. E se assim for, não faz sentido cancelar a inscrição nas listas de discussão desses sites. Seu endereço adicional provavelmente já foi incluído em alguma base pública para envio de e-mails indesejados. Será muito mais fácil se você simplesmente bloquear todas as correspondências que chegam a esse endereço adicional. Seria ainda melhor se você configurasse o movimento automático desses e-mails para a pasta de spam. Essa configuração tornará a vida desses sites muito difícil porque o Gmail saberá que esses sites estão enviando spam. Então, vamos descobrir como implementar tal gerador usando Aspose.Email para C++.

{{% /blocks/products/pf/feature-page-summary  %}}

{{% blocks/products/pf/feature-page-section  h2="Gere Gmail temporário e opere com ele" %}}

Para gerar um endereço adicional do Gmail, na verdade não precisamos do Aspose.Email, não precisamos interagir com o serviço Gmail de forma alguma. Qualquer endereço adicional que você criar manualmente ou aleatoriamente, sujeito a certas regras, funcionará. Então, quais são essas regras? Os pontos não são importantes. Ou seja, em seu endereço, antes do símbolo '@', você pode remover pontos e adicionar novos entre quaisquer pares de letras. Antes do caractere '@', você pode adicionar um caractere '+' com qualquer conjunto de letras e números depois dele. Exemplos para o endereço “username@gmail.com”: - u.ser.n.ame@gmail.com - username+1@gmail.com - username+facebook@gmail.com - username+sfgdsr234@gmail.com Todos estes endereços já podem ser usados ao se registrar em sites. Mas, por si só, eles fazem pouco sentido, porque todas as mensagens que chegam a esses endereços acabam na sua caixa de correio principal. Portanto, vale a pena usar nossas instruções para trabalhar com esses endereços.

### Gerador temporário simples do Gmail

Então, vamos criar um gerador de subendereço aleatório simples. Para fazer isso, adicionaremos uma string aleatória entre os caracteres '+' e '@'. Em primeiro lugar, precisamos gerar uma string aleatória de um determinado comprimento, consistindo em um determinado conjunto de caracteres:

```cpp
const char16_t pattern[] = u"abcdefghijklmnopqrstuvwxyz0123456789";
auto patternLength = std::char_traits<char16_t>::length(pattern);
const int suffixLength = 10;
std::string generatedSuffix;
generatedSuffix.reserve(suffixLength);
srand(time(NULL));
for (int i = 0; i < suffixLength; i++)
{
    generatedSuffix += pattern[rand() % (patternLength - 1)];
}
```

Agora precisamos obter o endereço de e-mail e adicionar a string aleatória gerada a ele. Para fazer isso, usaremos a classe <a href="https://reference.aspose.com/email/cpp/class/aspose.email.mail_address/" rel="nofollow noopener" target="_blank">MailAdress</a> da biblioteca Aspose.Email for C++:

```cpp
auto originalAddress = System::MakeObject<MailAddress>(System::String(u"some.address@gmail.com"));
auto generatedAddress = System::MakeObject<MailAddress>(
    originalAddress->get_User() + u"+" + generatedSuffix + u"@" + originalAddress->get_Host());
Console::WriteLine(generatedAddress);
```

Feito! O endereço recebido já pode ser usado ao se registrar em sites. Os sites em breve começarão a enviar mensagens para este endereço. Vamos ver o que podemos fazer com essas mensagens.

### Use o cliente IMAP para operar com mensagens recebidas no Gmail gerado

Primeiro, para operar as mensagens recebidas em um endereço adicional, precisamos nos conectar ao Gmail. O IMAP é adequado para isso. Para se conectar usando este protocolo, não se esqueça de configurar sua conta para permitir a conexão usando este protocolo. Além disso, você pode simplificar a conexão IMAP com uma senha de aplicativo dedicada. Isso permitirá que você evite a necessidade de executar a autorização OAuth se não quiser implementá-la em seu aplicativo. Basta acessar as configurações da sua conta do Google, abrir a seção Segurança e adicionar uma senha de aplicativo. Não se esqueça de salvar a senha gerada em um armazenamento seguro e tente não perdê-la, pois ela lhe dá acesso total ao seu e-mail! Então, vamos usar a classe <a rel="nofollow noopener" target="_blank" href="https://reference.aspose.com/email/cpp/class/aspose.email.clients.imap.imap_client/">ImapClient</a> e conectar-se à sua conta do Gmail usando o protocolo IMAP:

```cpp
auto imapClient = System::MakeObject<Clients::Imap::ImapClient>(
    u"imap.gmail.com", 993, originalAddress->get_User(), u"password",
    SecurityOptions::SSLAuto);
```

Pronto, agora podemos, por exemplo, obter todas as mensagens recebidas no endereço do Gmail gerado:

```cpp
imapClient->SelectFolder(u"INBOX");
auto queryBuilder = System::MakeObject<ImapQueryBuilder>();
queryBuilder->get_To()->Contains(generatedAddress->get_Address());

auto list = imapClient->ListMessages(queryBuilder->GetQuery());
```

você receberá absolutamente todas essas cartas. Não importa de que site eles vieram até você. Eles podem ter vindo do site para o qual você forneceu o endereço de e-mail gerado. Pode ter vindo de outro site. De qualquer endereço. Nós filtramos e-mails não pelo remetente, mas pelo destinatário. E é muito conveniente.

### Marcar, remover, mover mensagens recebidas para o Gmail temporário

Tendo recebido a lista de letras, já podemos realizar várias operações nela. Acima de tudo de uma vez. Você não precisa encontrá-los em sua caixa de correio um por um. Literalmente, alguns comandos e todas as letras são marcadas como lidas, movidas para outra pasta ou simplesmente excluídas. Só não se esqueça de verificar antes se a lista de letras não está vazia. Você já deve ter deletado tudo.

```cpp
if (list->get_Count() > 0)
{
    //Mark as read
    imapClient->AddMessageFlags(list, ImapMessageFlags::get_IsRead());
    //Move
    imapClient->MoveMessages(list, u"DestinationFolder");
    //Remove
    imapClient->DeleteMessages(list, true);
}
```

Feito, sua caixa de entrada foi limpa de spam.

### Inscrever-se no endereço temporário do Gmail

daí se você não quiser excluir ou sinalizar e-mails constantemente chamando manualmente o código acima? E se você quiser excluir e-mails assim que forem recebidos? Para fazer isso, por exemplo, você pode assinar novas mensagens e escrever uma função que apaga as mensagens assim que chegam ao seu endereço de e-mail.

```cpp
std::function<void(System::SharedPtr<System::Object> sender, System::SharedPtr<Clients::Imap::ImapMonitoringEventArgs> eventArgs)> subscribeCallback =
[&generatedAddress, &imapClient](System::SharedPtr<System::Object> sender, System::SharedPtr<ImapMonitoringEventArgs> eventArgs)
{
    auto newMessages = eventArgs->get_NewMessages();
    auto generated = System::MakeObject<ImapMessageInfoCollection>();
    for each (auto newMessage in newMessages)
    {
        for each (auto address in newMessage->get_To())
        {
            if (address->get_Address() == generatedAddress->get_Address())
            {
                generated->Add(newMessage);
                break;
            }
        }
    }
    if (generated->get_Count() == 0) return;

    imapClient->SelectFolder(u"INBOX");

    //Do something with the received messages. For example, mark them as read:
    imapClient->AddMessageFlags(generated, ImapMessageFlags::get_IsRead());

    //or delete them
    imapClient->DeleteMessages(generated, true);
};

std::function<void(System::SharedPtr<System::Object> sender, System::SharedPtr<Clients::Imap::ImapMonitoringErrorEventArgs> eventArgs)> errorCallback =
[](System::SharedPtr<System::Object> _, System::SharedPtr<ImapMonitoringErrorEventArgs> errorEventArgs)
{
    Console::WriteLine(errorEventArgs->get_Error()->get_Message());
};

imapClient->StartMonitoring(subscribeCallback, errorCallback, u"INBOX");
```

Este algoritmo é um pouco simplificado porque, em caso de erro, a assinatura de novas mensagens será interrompida. Você pode melhorar muito o algoritmo. Para fazer isso, você precisa refinar o algoritmo melhorando o tratamento de erros. Por exemplo, você pode configurar a retomada do monitoramento em caso de erro, para isso, pode-se utilizar a função ImapClient.ResumeMonitoring. Esta função restabelecerá uma conexão com o servidor IMAP e retomará o monitoramento de novas mensagens. Infelizmente, para usar esse algoritmo, você precisa manter o programa em execução constante de qualquer maneira. Assim que você interromper a execução do programa, novas letras não serão mais excluídas automaticamente. Mas, neste caso, há outra solução.

{{% /blocks/products/pf/feature-page-section %}}

{{% blocks/products/pf/feature-page-section  h2="Parar de receber mensagens no endereço do Gmail gerado" %}}

Gmail fornece algoritmos para filtrar as mensagens recebidas. Esses algoritmos funcionam no lado do serviço e nunca deixarão passar mensagens indesejadas, se você, é claro, configurá-los corretamente. No momento, infelizmente, não podemos fornecer a você a funcionalidade de configurar remotamente esses filtros usando C++, mas planejamos adicionar essa oportunidade em um futuro próximo. Acompanhe nossas atualizações! Portanto, se você deseja filtrar as mensagens que chegam ao Gmail gerado, primeiro precisa criar um modelo de pesquisa para o filtro. Aqui está o código mais simples para obter o modelo:

```cpp
//Generate Gmail search pattern
auto searchPattern = System::String(u"to:(") + generatedAddress->get_Address() + u")";
Console::WriteLine(searchPattern);
```

Aqui, a variável ```generatedAddress``` contém o Gmail gerado anteriormente neste artigo. O código acima criará um modelo de pesquisa e o imprimirá no terminal. Copie este modelo porque você precisará dele ao criar o filtro. Agora vamos descrever passo a passo como você pode criar um filtro. Para começar, abra a interface da web de e-mail do Gmail, disponível no <a href="https://mail.google.com/mail" rel="nofollow noopener" target="_blank">link</a>. Nesta interface, encontre a barra de pesquisa:

![step1](/email/net/gmail-generator/step1.webp)

Nesta barra de pesquisa, você precisa inserir o modelo gerado anteriormente nesta instrução. Em seguida, você precisa clicar no botão "Mostrar opções de pesquisa", indicado na captura de tela abaixo:

![step2](/email/net/gmail-generator/step2.webp)

Na janela de opções de pesquisa que se abre, não é necessário inserir nenhum dado adicional, o modelo gerado já configurou a pesquisa. Basta clicar no botão "Criar filtro".

![step3](/email/net/gmail-generator/step3.webp)

Como resultado, a janela de configurações do filtro será aberta:

![step4](/email/net/gmail-generator/step4.webp)

Aqui você pode escolher o que o filtro deve fazer com os e-mails recebidos no endereço do Gmail gerado. Você pode arquivá-los automaticamente, marcá-los como lidos, excluí-los e assim por diante. Como regra, a melhor opção é excluir e-mails. O volume da caixa de correio é limitado, não faz sentido gastá-lo no armazenamento de lixo. Depois de selecionar as ações que mais lhe agradam, clique novamente no botão “Criar filtro”. Feito! O filtro está totalmente configurado, portanto, não haverá mais lixo eletrônico para incomodá-lo.


{{% /blocks/products/pf/feature-page-section %}}

{{% blocks/products/pf/feature-page-section  h2="Gerenciar filtros temporários do Gmail" %}}

Às vezes, as mensagens que você recebe de um determinado site não são solicitadas. Eles apenas se tornam lixo em sua caixa de correio e impedem que você encontre nela o que é realmente importante e interessante para você. Como resultado, você cria um filtro que bloqueia mensagens indesejadas deste site. Mas e se as mensagens do site não forem mais spam? Por exemplo, você deseja recuperar sua senha. Um site envia um e-mail com um link para um formulário de redefinição de senha, mas você não pode recebê-lo porque o filtro exclui imediatamente o e-mail. Felizmente, existe uma maneira elegante de sair dessa situação. Você pode reconfigurar temporariamente o filtro para que ele não exclua esses e-mails. Ou você pode remover o filtro completamente. Vamos ver como isso pode ser feito. Primeiro, abra a interface da web do Gmail. Na página que se abre, clique no botão "Configurações":

![step1](/email/net/gmail-generator/manage1.webp)

Na janela que se abre, clique no botão "Ver todas as configurações":

![step2](/email/net/gmail-generator/manage2.webp)

janela de configurações da conta do Gmail será aberta. Ele contém muitas guias para ajustar sua experiência de e-mail. Estamos interessados na guia "Filtros e endereços bloqueados". Abra esta aba:

![step3](/email/net/gmail-generator/manage3.webp)

Na guia que se abre, você verá uma lista de filtros para os Gmails gerados que você criou anteriormente, bem como possivelmente outros filtros:

![step4](/email/net/gmail-generator/manage4.webp)

Pela descrição dos filtros, você pode determinar facilmente qual deles é o responsável pelo endereço que deseja desbloquear. Ao clicar no botão "excluir", você pode desativar permanentemente o filtro. Se você clicar no botão “editar”, poderá reconfigurar o filtro. Por exemplo, em vez de excluir e-mails, você pode sinalizá-los. Dessa forma, você pode salvar o filtro e facilitar sua ativação no futuro. Ao editar o filtro, você poderá receber os e-mails necessários do site. Assim que você quiser bloquear o Gmail gerado de volta, abra o filtro novamente com o botão “editar” e reconfigure as ações. Isso é tudo. Agora você é um profissional com endereços do Gmail gerados. Você pode criar um grande número de endereços e gerenciar com maestria o fluxo de e-mails que chegam ao seu Gmail. Usando endereços adicionais, você poderá rastrear sites que transferem seus dados para terceiros sem o seu consentimento. Você poderá bloquear o spam sem ter que treinar novamente seu sistema anti-spam ou sem ter que apertar os botões Cancelar inscrição várias vezes. Você pode automatizar a remoção de spam usando Aspose.Email .NET ou manualmente por meio das configurações e da interface do Gmail.

{{% /blocks/products/pf/feature-page-section %}}

{{< /blocks/products/pf/main-container >}}

{{< /blocks/products/pf/main-wrap-class >}}